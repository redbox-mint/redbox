{
    "version": "0.7.14",
    "configured": true,
    "urlBase" : "${server.url.base}",
    "email" : "dave.huthnance@newcastle.edu.au",
    "sso": {
        "plugins": [],
        "urlExclusions": {
            "startsWith" : ["css/", "feed/", "images/", "js/", "flowplayer/"],
            "endsWidth" : [".ico"],
            "equals" : ["css"]
        },
        "trustTokens": {
        }
    },
    "accesscontrol": {
        "type" : "derby",
        "derby" : {
            "derbyHome" : "${fascinator.home}/database"
        }
    },
    "authentication": {
        "type": "internal",
        "internal": {
            "path": "${fascinator.home}/security/users.properties"
        }
    },
    "roles": {
        "type": "internal",
        "internal": {
            "path": "${fascinator.home}/security/roles.properties"
        }
    },
    "storage": {
        "type": "file-system",
        "file-system": {
            "home": "${storage.home}"
        },
        "fedora3": {
            "url": "http://localhost:8080/fedora",
            "username": "fedoraAdmin",
            "password": "fedoraAdmin"
        }
    },
    "messaging" : {
        "url" : "tcp://localhost:${amq.port}",
        "stompUrl" : "stomp://localhost:${amq.stomp.port}",
        "home" : "${fascinator.home}/activemq-data",
        "threads" : [
            {
                "id" : "render",
                "description" : "Render queue for priority objects requested by the user.",
                "priority" : "8",
                "config" : {
                    "name" : "renderUser"
                }
            },
            {
                "id" : "render",
                "description" : "Render queue for objects that are only using high speed transformers.",
                "priority" : "6",
                "config" : {
                    "name" : "renderHigh"
                }
            },
            {
                "id" : "render",
                "description" : "Render queue for most standard documents. External calls to ICE Service are performed.",
                "priority" : "5",
                "config" : {
                    "name" : "renderNormal"
                }
            },
            {
                "id" : "render",
                "description" : "Render queue for objects requiring FFmpeg transcoding and optionally calls to the ICE Service.",
                "priority" : "3",
                "config" : {
                    "name" : "renderLow"
                }
            },
            {
                "id" : "harvest",
                "description" : "Priority queue for user actions, allows access to the render queues faster.",
                "priority" : "8",
                "config" : {
                    "name" : "harvestUser",
                    "normal-renderers" : {
                        "ffmpeg" : "renderLow",
                        "ice2" : "renderNormal",
                        "default" : "renderHigh"
                    },
                    "user-renderer" : "renderUser"
                }
            },
            {
                "id" : "harvest",
                "description" : "Standard harvest queue for new object. May optionally run some fast transformers and an index before routing to the render queues.",
                "priority" : "7",
                "config" : {
                    "name" : "harvest",
                    "normal-renderers" : {
                        "ffmpeg" : "renderLow",
                        "ice2" : "renderNormal",
                        "default" : "renderHigh"
                    },
                    "user-renderer" : "renderUser"
                }
            },
            {
                "id" : "ingest",
                "description" : "Ingest queue for objects posted from external source.",
                "priority" : "3",
                "config" : {
                    "name" : "ingest"
                }
            },
            {
                "id" : "subscriber",
                "description" : "Subscriber queue for event log.",
                "priority": "7",
                "config": {
                    "name" : "subscriber",
                    "subscribers": ["solr-event-log"]
                }
            },
            {
                "id" : "solrwrapper",
                "description" : "Wrapper for ingest into main Solr core.",
                "priority": "5",
                "config": {
                    "name" : "solrwrapper"
                }
            },
            {
                "id" : "emailnotification",
                "description" : "Queue to send email notifications",
                "priority" : "8",
                "config" : {
                    "name" : "emailnotification",
                    "debug" : false,
                    "from" : {
                        "email" : "fascinator@usq.edu.au",
                        "name": "The Fascinator"
                    },
                    "smtp" : {
                        "host" : "smtp-gw.usq.edu.au"
                    },
                    "defaults" : {
                        "subject" : "Notification",
                        "body": "nt"
                    }
                }
            }
        ]
    },
    "indexer": {
        "type": "solr",
        "properties": "TF-OBJ-META",
        "useCache" : true,
        "cachingLevel" : "dynamic",
        "buffer": {
            "docLimit" : "200",
            "sizeLimit" : "204800",
            "timeLimit" : "30"
        },
        "solr": {
            "uri": "http://localhost:${jetty.port}/solr/fascinator",
            "coreName": "fascinator",
            "autocommit": false,
            "embedded": false
        },
        "anotar": {
            "uri": "http://localhost:${jetty.port}/solr/anotar",
            "coreName": "anotar",
            "autocommit": true
        }
    },
    "transformerDefaults": {
    },
    "uploader": {
        "basic-upload": {
            "screen-label": "Basic Upload",
            "security": ["registered", "metadata", "editor", "admin"],
            "upload-path": "${fascinator.home}/uploads/workflow-harvester",
            "json-config": "${fascinator.home}/harvest/workflows/workflow-harvester.json"
        }
    },
    "mime-types" : {
        "tfpackage" : "application/x-fascinator-package"
    },
    "portal": {
        "home": "${portal.home}",
        "contentDir": "${fascinator.home}/content",
        "defaultView": "default",
        "skins": {
            "default": "default",
            "order": [ "newcastle" ]
        },
        "cachingLevel": "dynamic",
        "layout": "layout",
        "nativeJython": true,
        "packageTypes": {
            "default": {
                "jsonconfig": "packaging-config.json",
                "packages-in-package": false
            },
            "dataset": {
                "jsonconfig": "dataset.json",
                "packages-in-package": false
            }
        },
        "harvestFiles": "${fascinator.home}/harvest",
        "houseKeeping": {
            "config": {
                "derbyHome" : "${fascinator.home}/database",
                "quartzConfig": "${fascinator.home}/quartz.properties",
                "desktop": true,
                "frequency": "300",
                "jobs": [
                ]
            }
        },
        "oai-pmh": {
            "sessionExpiry": "300000",
            "metadataFormats": {
                "oai_dc": {
                    "schema": "http://www.openarchives.org/OAI/2.0/oai_dc.xsd",
                    "metadataNamespace": "http://www.openarchives.org/OAI/2.0/oai_dc/"
                }
            }
        }
    },
    "proxy-urls": {
        "mintPeople" : "${mint.proxy.url}/master/opensearch/lookup",
        "mintFor" : "${mint.proxy.url}/for/opensearch/lookup",
        "mintSeo" : "${mint.proxy.url}/seo/opensearch/lookup",
        "mintAuthor" : "${mint.proxy.url}/author/opensearch/lookup",
        "mintGeoNames" : "${mint.proxy.url}/geonames/opensearch/lookup",
        "mintOrgUnit" : "${mint.proxy.url}/orgunit/opensearch/lookup"
    },
    "watcher" : {
        "path": "${watcher.home}"
    },
    "subscriber": {
        "solr": {
            "uri": "http://localhost:${jetty.port}/solr/eventlog",
            "buffer": {
                "docLimit" : "200",
                "sizeLimit" : "204800",
                "timeLimit" : "30"
            }
        }
    }
}
